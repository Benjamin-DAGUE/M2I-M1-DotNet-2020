using System;
using System.Collections.Generic;
using System.Linq;

namespace LinqTest
{
    class Program
    {
        static void Main(string[] args)
        {
            List<string> lastNames = null;
            List<string> firstNames = null;
            Random random = new Random();

            #region Init

            lastNames = new List<string>()
            {
                "Mcintyre",
                "Everett",
                "Calderon",
                "Spence",
                "Higgins",
                "Mendoza",
                "Floyd",
                "Montgomery",
                "Le",
                "Travis",
                "Sexton",
                "Kerr",
                "Merritt",
                "Sparks",
                "Newman",
                "Montoya",
                "Gilmore",
                "Acosta",
                "Serrano",
                "Camacho",
                "Bradley",
                "Pham",
                "Ho",
                "Mora",
                "Francis",
                "Payne",
                "Dalton",
                "Wong",
                "Ramsey",
                "Sanchez",
                "Boyd",
                "Brewer",
                "Drake",
                "Holt",
                "Stephens",
                "Wade",
                "Trevino",
                "Macdonald",
                "Arellano",
                "Mckinney",
                "Simon",
                "Gregory",
                "Lewis",
                "Choi",
                "Medina",
                "Sanders",
                "Bender",
                "Todd",
                "Howe",
                "Horne",
                "Cooper",
                "Dawson",
                "Williamson",
                "Brandt",
                "Charles",
                "Marquez",
                "Barber",
                "Andrade",
                "Powell",
                "Cabrera",
                "Hobbs",
                "Ferguson",
                "Mccarty",
                "Watts",
                "Howell",
                "Landry",
                "Boyle",
                "Bryant",
                "Willis",
                "Velazquez",
                "Robles",
                "Bowen",
                "Bonilla",
                "Norris",
                "Blankenship",
                "Knapp",
                "Tate",
                "Singh",
                "Snow",
                "Stewart",
                "Anderson",
                "Neal",
                "Hayden",
                "Cole",
                "Bauer",
                "Harding",
                "Morris",
                "Jacobs",
                "Colon",
                "Buck",
                "Haley",
                "Palmer",
                "Harvey",
                "Hahn",
                "Hernandez",
                "Steele",
                "Huang",
                "Mooney",
                "Welch",
                "Guerra",
                "Reyes",
                "Mcpherson",
                "Wu",
                "Figueroa",
                "Huff",
                "Madden",
                "Jacobson",
                "Sheppard",
                "Fisher",
                "Shah",
                "Warren",
                "Mann",
                "Duarte",
                "Pruitt",
                "Lucero",
                "Donovan",
                "Lamb",
                "Ponce",
                "Webb",
                "Doyle",
                "Key",
                "Forbes",
                "Bullock",
                "Yang",
                "Blackburn",
                "Knight",
                "Cummings",
                "Freeman",
                "Villa",
                "Flowers",
                "Beltran",
                "Page",
                "Shields",
                "Novak",
                "Clay",
                "Archer",
                "Bradshaw",
                "Coffey",
                "Mason",
                "Henson",
                "Lee",
                "Lawrence",
                "Stokes",
                "Bright",
                "Clarke",
                "Mcbride",
                "Mcneil",
                "Beard",
                "Perry",
                "Chang",
                "Hull",
                "Carrillo",
                "Arias",
                "Benitez",
                "Hood",
                "Callahan",
                "Jones",
                "Oconnor",
                "Lindsey",
                "Humphrey",
                "Jefferson",
                "Valencia",
                "Cunningham",
                "Campos",
                "Gamble",
                "Moses",
                "Braun",
                "Chapman",
                "Whitaker",
                "Bond",
                "Hubbard",
                "Harrison",
                "Summers",
                "Garcia",
                "Gomez",
                "Bentley",
                "Duffy",
                "Rocha",
                "Byrd",
                "Casey",
                "Moyer",
                "Harmon",
                "Porter",
                "Fleming",
                "Valenzuela",
                "Hanna",
                "Stuart",
                "Love",
                "Galloway",
                "Davenport",
                "Frank",
                "Greer",
                "Walls",
                "Ayers",
                "Zimmerman",
                "Cuevas",
                "Webster",
                "Shepherd",
                "Martinez",
                "Cherry",
                "Butler",
                "Russo",
                "Reese",
                "Poole",
                "Mccullough",
                "Proctor",
                "Goodwin",
                "Pugh",
                "Wyatt",
                "Ferrell",
                "Yu",
                "Barron",
                "Flores",
                "Stout",
                "Hawkins",
                "Downs",
                "Romero",
                "Kim",
                "Sampson",
                "Pacheco",
                "Krueger",
                "Stone",
                "Wilcox",
                "Wilkinson",
                "Pearson",
                "Howard",
                "Wallace",
                "Murillo",
                "Berg",
                "Horn",
                "Mcclure",
                "Chung",
                "Boone",
                "Davila",
                "Zuniga",
                "Dixon",
                "Roach",
                "Velez",
                "Vaughn",
                "Stafford",
                "Castaneda",
                "Edwards",
                "Obrien",
                "Mercado",
                "Small",
                "Holland",
                "Moran",
                "Reeves",
                "Johns",
                "Cervantes",
                "Moon",
                "Contreras",
                "Robinson",
                "Thompson",
                "Maldonado",
                "Wood",
                "Chandler",
                "Moss",
                "Bridges",
                "Cruz",
                "Oliver",
                "Russell",
                "Gentry",
                "Stein",
                "Mueller",
                "Haas",
                "Spencer",
                "Carroll",
                "Livingston",
                "Underwood",
                "Mcknight",
                "Parks",
                "Terrell",
                "Richards",
                "Cowan",
                "Fischer",
                "Walsh",
                "Burns",
                "Oconnell",
                "Patterson",
                "Delacruz",
                "Bush",
                "Mcgrath",
                "Lutz",
                "Kemp",
                "Mcmillan",
                "Navarro",
                "Blake",
                "Peck",
                "Cardenas",
                "Moore",
                "Franco",
                "Garrison",
                "Holmes",
                "Hess",
                "Avery",
                "Ramos",
                "Dougherty",
                "Conway",
                "Lozano",
                "Maddox",
                "Johnson",
                "Randall",
                "Ibarra",
                "Potts",
                "Haney",
                "Valentine",
                "Norton",
                "Fox",
                "Ali",
                "Costa",
                "Barr",
                "Carson",
                "Fuentes",
                "Richmond",
                "Carpenter",
                "Hunt",
                "Stephenson",
                "Woodard",
                "Dickerson",
                "Case",
                "Mathews",
                "Delgado",
                "Osborne",
                "Faulkner",
                "Silva",
                "Trujillo",
                "Mcguire",
                "Adkins",
                "Roth",
                "Garner",
                "Mcclain",
                "Weeks",
                "Logan",
                "Melendez",
                "Maxwell",
                "Andersen",
                "Huerta",
                "Mata",
                "Skinner",
                "Osborn",
                "Wagner",
                "Richard",
                "Vega",
                "Maynard",
                "Price",
                "Winters",
                "Weber",
                "Greene",
                "Burke",
                "Nichols",
                "Kirk",
                "Padilla",
                "West",
                "Castillo",
                "Clements",
                "Allen",
                "Brooks",
                "Buchanan",
                "Wells",
                "Dyer",
                "Nelson",
                "Sawyer",
                "Irwin",
                "Rollins",
                "Short",
                "Mahoney",
                "Pollard",
                "Austin",
                "Stanley",
                "Lambert",
                "Powers",
                "Barnes",
                "Horton",
                "Meyers",
                "Riggs",
                "Ramirez",
                "Cantu",
                "Brown",
                "Rogers",
                "Christian",
                "Macias",
                "Sanford",
                "Ortega",
                "Curry",
                "Davidson",
                "Wiley",
                "Khan",
                "Lyons",
                "Vasquez",
                "Eaton",
                "Parker",
                "Kidd",
                "Rasmussen",
                "Keith",
                "Christensen",
                "Shaw",
                "Wheeler",
                "Estes",
                "Hoffman",
                "Malone",
                "Larson",
                "Norman",
                "Mccoy",
                "Hart",
                "Burch",
                "Atkins",
                "Rangel",
                "Beck",
                "Franklin",
                "Nguyen",
                "Meadows",
                "Hester",
                "Bates",
                "Hardin",
                "Manning",
                "Glenn",
                "Fuller",
                "Soto",
                "Parrish",
                "Nolan",
                "Morgan",
                "Cross",
                "Heath",
                "Thomas",
                "Villanueva",
                "Ryan",
                "Klein",
                "Cochran",
                "Mercer",
                "Chan",
                "Wiggins",
                "Roberts",
                "Whitehead",
                "Ballard",
                "Odonnell",
                "Holder",
                "Jarvis",
                "Esparza",
                "Chambers",
                "Arnold",
                "Benton",
                "Elliott",
                "Patton",
                "Gonzales",
                "Mckee",
                "Cortez",
                "Smith",
                "Lane",
                "Benjamin",
                "King",
                "Lucas",
                "Petty",
                "Bowers",
                "Saunders",
                "Branch",
                "Mcdaniel",
                "Weiss",
                "Blackwell",
                "Spears",
                "Kline",
                "Quinn",
                "Chen",
                "Galvan",
                "Abbott",
                "Miller",
                "Cline",
                "Cannon",
                "Guerrero",
                "Joseph",
                "Bradford",
                "Escobar",
                "Lin",
                "Cooke",
                "Mcdonald",
                "Frederick",
                "Adams",
                "Cameron",
                "Hill",
                "Kelley",
                "Rivera",
                "Hurley",
                "York",
                "Bray",
                "Schmitt",
                "Johnston",
                "Bernard",
                "Brady",
                "Morse",
                "Preston",
                "Petersen",
                "Tyler",
                "Berger",
                "Hays",
                "Miles",
                "Golden",
                "Gay",
                "Hickman",
                "Farley",
                "Carlson"
            };
            firstNames = new List<string>()
            {
                "Samson",
                "Kamden",
                "Precious",
                "Lea",
                "Alexus",
                "Kasen",
                "Hailie",
                "Joslyn",
                "Madalyn",
                "Makai",
                "Stephanie",
                "Patricia",
                "Levi",
                "Madyson",
                "Anahi",
                "Mara",
                "Jada",
                "Paula",
                "Sterling",
                "Jaxon",
                "Gordon",
                "Maximo",
                "Gwendolyn",
                "Virginia",
                "Arielle",
                "Amiyah",
                "Hallie",
                "Darnell",
                "Luna",
                "Ashton",
                "Maurice",
                "Broderick",
                "Rogelio",
                "Kendall",
                "Oliver",
                "Darian",
                "Miles",
                "Cloe",
                "Wilson",
                "Charlie",
                "Dawson",
                "Jordan",
                "Belinda",
                "Jordon",
                "Marina",
                "Octavio",
                "Paloma",
                "Adriana",
                "Mathew",
                "Rebecca",
                "Uriel",
                "Brandon",
                "Bobby",
                "Konner",
                "Ashlyn",
                "Natalya",
                "Regan",
                "Rebekah",
                "Gabrielle",
                "Zion",
                "Sloane",
                "Alanna",
                "Clinton",
                "Dania",
                "Frankie",
                "Saul",
                "Madeleine",
                "Yamilet",
                "Aydin",
                "Rudy",
                "Nathanael",
                "Jacquelyn",
                "Quinn",
                "Rigoberto",
                "Dakota",
                "Payten",
                "Oscar",
                "Jovani",
                "Landon",
                "Frida",
                "Elvis",
                "Sonny",
                "Dulce",
                "Kasey",
                "Kaylyn",
                "Riley",
                "Isaias",
                "Caleb",
                "Ezra",
                "Rohan",
                "Remington",
                "Lamar",
                "Molly",
                "Blake",
                "London",
                "Victor",
                "Sawyer",
                "Anaya",
                "Mohammad",
                "Issac",
                "Tomas",
                "Wade",
                "Jamari",
                "Tianna",
                "Shaniya",
                "Zackary",
                "Brogan",
                "Chandler",
                "Alexandra",
                "Lorelei",
                "Landyn",
                "Marlie",
                "Pablo",
                "Victoria",
                "Tristen",
                "Jaida",
                "Desmond",
                "Fatima",
                "Cassidy",
                "Lauryn",
                "Rhys",
                "Ryland",
                "Keenan",
                "Madilyn",
                "Elsa",
                "Hana",
                "Miah",
                "Braden",
                "Devin",
                "Kamari",
                "Savannah",
                "Davis",
                "Jaycee",
                "Estrella",
                "Nataly",
                "Jaelynn",
                "Eden",
                "Rayna",
                "Lillianna",
                "Arnav",
                "Abdiel",
                "Orlando",
                "Mylie",
                "Jesse",
                "Brennan",
                "Rose",
                "Nathanial",
                "Alfred",
                "Marc",
                "Jaden",
                "Daisy",
                "Aracely",
                "Rodolfo",
                "Kadin",
                "Andrew",
                "Bella",
                "Kade",
                "Braxton",
                "Shania",
                "Mayra",
                "Kaylen",
                "Payton",
                "Zachary",
                "Jeffrey",
                "Brody",
                "Dayton",
                "Will",
                "Jayce",
                "Angeline",
                "Josh",
                "Luz",
                "Evelin",
                "Caroline",
                "Lyric",
                "Miracle",
                "Kameron",
                "Drew",
                "Keshawn",
                "Camila",
                "Tabitha",
                "Brooklyn",
                "Russell",
                "Adalynn",
                "Jaslyn",
                "Makena",
                "Kassidy",
                "Sage",
                "Mike",
                "Fernando",
                "Kennedy",
                "Brian",
                "Alma",
                "Isaiah",
                "Cherish",
                "Sierra",
                "Bo",
                "Serenity",
                "Tania",
                "Nathen",
                "Marley",
                "Lewis",
                "Angelica",
                "Turner",
                "Ellie",
                "Dixie",
                "Mikaela",
                "Cordell",
                "Vance",
                "Phoenix",
                "Joanna",
                "Denzel",
                "Beau",
                "Aryan",
                "Spencer",
                "Amelia",
                "Aron",
                "Abel",
                "Calvin",
                "Kimora",
                "Ingrid",
                "Xiomara",
                "Amya",
                "Isla",
                "Dayami",
                "Immanuel",
                "Kelsie",
                "Yazmin",
                "Lawson",
                "Sabrina",
                "Harley",
                "Marquise",
                "Baron",
                "Chris",
                "Christopher",
                "Kayla",
                "Messiah",
                "Semaj",
                "Alexzander",
                "Leon",
                "Ronin",
                "Dahlia",
                "April",
                "Alannah",
                "Davin",
                "Cyrus",
                "Carolyn",
                "Kaylah",
                "Soren",
                "Gianni",
                "Bradley",
                "Noah",
                "Simeon",
                "Audrina",
                "Paulina",
                "Kadence",
                "Barrett",
                "Lorenzo",
                "Mattie",
                "Shawn",
                "Lorelai",
                "Lara",
                "Finley",
                "Yaretzi",
                "Aaliyah",
                "Mareli",
                "Raquel",
                "Sammy",
                "Taylor",
                "Lilyana",
                "Andrea",
                "Cora",
                "Francis",
                "Jaidyn",
                "Dereon",
                "Rowan",
                "Alayna",
                "Martin",
                "Brayden",
                "Aylin",
                "Jacqueline",
                "Madisyn",
                "Ryan",
                "Braiden",
                "Eliza",
                "Dayana",
                "Ireland",
                "Anne",
                "Gregory",
                "Emilio",
                "Norah",
                "Hayley",
                "Ada",
                "Milton",
                "Skyler",
                "Lizbeth",
                "Alisson",
                "Araceli",
                "Emelia",
                "Dennis",
                "Jacey",
                "Reyna",
                "Tyrone",
                "Ryleigh",
                "Joel",
                "Talia",
                "Joshua",
                "Ximena",
                "Macey",
                "Cole",
                "Grady",
                "Brielle",
                "Jamiya",
                "Ahmad",
                "Adelyn",
                "Elisabeth",
                "Beckham",
                "Landen",
                "Lane",
                "Lance",
                "Erica",
                "Kian",
                "Adeline",
                "Audrey",
                "Jett",
                "Kyler",
                "Abigayle",
                "Elisha",
                "Desirae",
                "Kenyon",
                "Liam",
                "Alexandria",
                "Mackenzie",
                "Alexa",
                "Dalia",
                "Harmony",
                "Logan",
                "Jase",
                "Alice",
                "Dallas",
                "Konnor",
                "Roy",
                "Jefferson",
                "Shayla",
                "Orion",
                "Zoe",
                "Cesar",
                "Crystal",
                "Arjun",
                "Matilda",
                "Ashanti",
                "Allen",
                "Kaila",
                "Adonis",
                "Sage",
                "Sofia",
                "Aubrey",
                "Gideon",
                "Yaritza",
                "Kaeden",
                "Averi",
                "Draven",
                "Bethany",
                "Darwin",
                "Rishi",
                "Veronica",
                "Abril",
                "Michael",
                "Larry",
                "Teresa",
                "Clare",
                "Nash",
                "Camilla",
                "Lilianna",
                "Shelby",
                "Axel",
                "Jamal",
                "Mekhi",
                "Albert",
                "Peter",
                "Kellen",
                "Ulises",
                "Alina",
                "Jovan",
                "Corbin",
                "Lucian",
                "Celia",
                "Giselle",
                "Laylah",
                "Carlee",
                "Simone",
                "Carly",
                "Aydan",
                "Aiyana",
                "Kasey",
                "Jadyn",
                "Graham",
                "Houston",
                "Quinton",
                "Riya",
                "Caitlin",
                "Lauren",
                "Nico",
                "Ayana",
                "Jenna",
                "Luciano",
                "Moises",
                "Anabella",
                "Eleanor",
                "Roberto",
                "Brisa",
                "Omari",
                "Shiloh",
                "Janelle",
                "Madelynn",
                "Pranav",
                "Gemma",
                "Angel",
                "Ivy",
                "Heather",
                "Elle",
                "Jeremy",
                "Evelyn",
                "Jamir",
                "Yandel",
                "Haven",
                "Morgan",
                "Nathan",
                "Alexis",
                "Kieran",
                "Erick",
                "Dean",
                "Viviana",
                "Jude",
                "Ally",
                "Wyatt",
                "Shaylee",
                "Jordyn",
                "Nayeli",
                "Neveah",
                "Kendal",
                "Bruce",
                "Tyler",
                "Colin",
                "Katrina",
                "Marshall",
                "Felix",
                "Felipe",
                "Fabian",
                "Jazlene",
                "Melanie",
                "Monica",
                "Asia",
                "Patrick",
                "Aurora",
                "Whitney",
                "Halle",
                "Rocco",
                "Maya",
                "Alvaro",
                "Curtis",
                "Alisha",
                "Cason",
                "Harper",
                "Zion",
                "Aisha",
                "Skylar",
                "Mohammed",
                "Paisley",
                "Lucia",
                "Janiya",
                "Reuben",
                "Maximilian",
                "Oswaldo",
                "Baylee",
                "Journey",
                "Reynaldo",
                "Ray",
                "Nick",
                "Averie",
                "Aditya",
                "Lila",
                "Zachery",
                "Jaquan",
                "Marisol",
                "Roger",
                "Mario",
                "Deven",
                "Lesly",
                "Helena",
                "Amber",
                "Trent",
                "Amira",
                "Amani",
                "Aileen",
                "Kody",
                "Triston",
                "Kristian",
                "Claire",
                "Maia",
                "Francisco"
            };

            #endregion

            //List<Person> people = new List<Person>();

            //for (int i = 0; i < 1000; i++)
            //{
            //    people.Add(new Person()
            //    {
            //        FirstName = firstNames[random.Next(0, firstNames.Count - 1)],
            //        LastName = lastNames[random.Next(0, lastNames.Count - 1)]
            //    });
            //}

            List<Person> people = Enumerable.Range(0, 1000).Select(num => new Person()
            {
                FirstName = firstNames[random.Next(0, firstNames.Count - 1)],
                LastName = lastNames[random.Next(0, lastNames.Count - 1)]
            }).ToList();

            #region Exemple filtre activable / désactivable
            
            #region V1
            bool isSearchStartWithA = true;
            bool isSearchStartWithB = false;
            bool isSearchStartWithC = false;

            IEnumerable<Person> query = people;

            if (isSearchStartWithA)
            {
                query = query.Where(p => p.LastName.StartsWith("A"));
            }
            if (isSearchStartWithB)
            {
                query = query.Where(p => p.LastName.StartsWith("B"));
            }
            if (isSearchStartWithC)
            {
                query = query.Where(p => p.LastName.StartsWith("C"));
            }
            query.ToList();
            #endregion

            #region V2
            people.Where(p => (isSearchStartWithA && p.LastName.StartsWith("A"))
                               ||
                              (isSearchStartWithB && p.LastName.StartsWith("B"))
                               ||
                              (isSearchStartWithC && p.LastName.StartsWith("C"))).ToList();
            #endregion

            #endregion



            do
            {
                Console.Clear();
                Console.WriteLine("0 - Liste complète");
                Console.WriteLine("1 - Recherche par Nom");
                Console.WriteLine("2 - Nombre de personnes avec 3 voyelles dans le Nom");
                Console.WriteLine("3 - Affichage par regroupement");
                Console.WriteLine("exit - Quitter");

                switch (Console.ReadLine())
                {
                    case "1":
                    {
                        Console.Write("Votre recherche : ");
                        string search = Console.ReadLine().ToLower();

                        people.Where(p => p.LastName.ToLower().StartsWith(search))
                            .ToList().ForEach(p => Console.WriteLine(p));
                    }
                    break;
                    case "2":
                    {
                        Console.Write("Nombre de personnes avec plus de 3 voyelles : ");
                        Console.WriteLine(people.Count(p => p.LastName.Count(c => "aeiouy".Contains(c)) > 3));
                    }
                    break;
                    case "3":
                    {
                        people.GroupBy(p => p.LastName.FirstOrDefault())
                            .OrderBy(group => group.Key).ToList()
                            .ForEach(group =>
                            {
                                Console.WriteLine(group.Key);
                                
                                group.OrderBy(p => p.ToString()).ToList()
                                    .ForEach(person => Console.WriteLine(person));

                                //foreach (Person person in group.OrderBy(p => p.ToString()))
                                //{
                                //    Console.WriteLine(person.ToString());
                                //}
                                Console.ReadLine();
                            });
                    }
                    break;
                    case "0":
                        people.ForEach(p => Console.WriteLine(p));
                        break;
                    case "exit" :
                        Environment.Exit(0);
                        break;
                }
                Console.ReadLine();
            } while (true);
        }
    }
}
